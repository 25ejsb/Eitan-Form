<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="static/style.css" type="text/css" rel="stylesheet">
    <link href="static/mediaquery.css" type="text/css" rel="stylesheet">
    <title>Submit A Website Request</title>
</head>
<body>
    <div class="background-img">&nbsp;</div>
    <div class="main">
        <div class="content">
            <h1>Submit A Request To Your Site</h1>
            <div class="form">
                <label for="name">Name</label>
                <input class="input-box" id="name" name="name" placeholder="Enter Your Name" required>
                <label for="email">Email</label>
                <input class="input-box" type="email" id="email" name="email" placeholder="Enter Your Email" required>
                <label for="changes">Main Changes</label>
                <textarea class="input-box" type="text" id="changes" name="changes" placeholder="Enter Your Changes" required></textarea>
                <button type="submit" id="submit">Submit</button>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.4.0/dist/email.min.js"></script>
    <script>
        (function() {
            emailjs.init("AfVqtxHq0gSsLr_ky"); 
          })();
          //please encrypted user id for malicious attacks
          //set the parameter as per you template parameter[https://dashboard.emailjs.com/templates]
          function sendEmail(email, messager) {
            var templateParams = {
                to_name: 'eitantravels25@gmail.com',
                from_name: email,
                message: messager
            };
            emailjs.send('service_h7lbd8h', 'template_p7c9d7k', templateParams, 'AfVqtxHq0gSsLr_ky')
            .then(function(response) {
              console.log('SUCCESS!', response.status, response.text);
            }, function(error) {
              console.log('FAILED...', error);
            });
          }
    
          var name_2 = document.getElementById("name");
          var email_2 = document.getElementById("email");
          var changes_2 = document.getElementById("changes");
          var submit = document.getElementById("submit"); 
          submit.addEventListener("click", () => {
            console.log("Hello")
            if (email_2.value != "" && changes_2.value != "") {
                sendEmail(email_2.value, changes_2.value)
                name_2.value = "";
                email_2.value = "";
                changes_2.value = "";
            }
          })
    </script>
</body>
</html>